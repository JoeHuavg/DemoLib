{"remainingRequest":"C:\\Users\\Amazarashi\\Documents\\P_Project\\Clothes\\后台\\Design\\Meiam.System\\Meiam.System.Web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Amazarashi\\Documents\\P_Project\\Clothes\\后台\\Design\\Meiam.System\\Meiam.System.Web\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Amazarashi\\Documents\\P_Project\\Clothes\\后台\\Design\\Meiam.System\\Meiam.System.Web\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\Amazarashi\\Documents\\P_Project\\Clothes\\后台\\Design\\Meiam.System\\Meiam.System.Web\\src\\store\\modules\\user.js","mtime":1630326254206},{"path":"C:\\Users\\Amazarashi\\Documents\\P_Project\\Clothes\\后台\\Design\\Meiam.System\\Meiam.System.Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Amazarashi\\Documents\\P_Project\\Clothes\\后台\\Design\\Meiam.System\\Meiam.System.Web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Amazarashi\\Documents\\P_Project\\Clothes\\后台\\Design\\Meiam.System\\Meiam.System.Web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.setUserInfo = exports.logOut = void 0;\n\nvar _login = require(\"@/api/login\");\n\nvar _auth = require(\"@/utils/auth\");\n\nvar user = {\n  state: {\n    token: (0, _auth.getToken)(),\n    userInfo: [],\n    // 第一次加载菜单时用到\n    loadMenus: false\n  },\n  mutations: {\n    SET_TOKEN: function SET_TOKEN(state, token) {\n      state.token = token;\n    },\n    SET_USERINFO: function SET_USERINFO(state, userInfo) {\n      state.userInfo = userInfo;\n    },\n    SET_LOAD_MENUS: function SET_LOAD_MENUS(state, loadMenus) {\n      state.loadMenus = loadMenus;\n    }\n  },\n  actions: {\n    // 登录\n    Login: function Login(_ref, userInfo) {\n      var commit = _ref.commit;\n      return new Promise(function (resolve, reject) {\n        (0, _login.login)(userInfo.username, userInfo.password, userInfo.code, userInfo.uuid).then(function (res) {\n          if (res.statusCode === 200) {\n            (0, _auth.setToken)(res.data);\n            commit('SET_TOKEN', res.data); // 第一次加载菜单时用到， 具体见 src 目录下的 permission.js\n\n            commit('SET_LOAD_MENUS', true);\n          }\n\n          resolve(res);\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    },\n    // 获取用户信息\n    GetUserInfo: function GetUserInfo(_ref2) {\n      var commit = _ref2.commit;\n      return new Promise(function (resolve, reject) {\n        (0, _login.getUserInfo)().then(function (res) {\n          setUserInfo(res.data, commit);\n          resolve(res);\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    },\n    // 登出\n    LogOut: function LogOut(_ref3) {\n      var commit = _ref3.commit;\n      return new Promise(function (resolve, reject) {\n        (0, _login.logout)().then(function (res) {\n          logOut(commit);\n          resolve();\n        }).catch(function (error) {\n          logOut(commit);\n          reject(error);\n        });\n      });\n    },\n    updateLoadMenus: function updateLoadMenus(_ref4) {\n      var commit = _ref4.commit;\n      return new Promise(function (resolve, reject) {\n        commit('SET_LOAD_MENUS', false);\n      });\n    }\n  }\n};\n\nvar logOut = function logOut(commit) {\n  commit('SET_TOKEN', '');\n  commit('SET_USERINFO', []);\n  (0, _auth.removeToken)();\n};\n\nexports.logOut = logOut;\n\nvar setUserInfo = function setUserInfo(res, commit) {\n  commit('SET_USERINFO', res);\n};\n\nexports.setUserInfo = setUserInfo;\nvar _default = user;\nexports.default = _default;",null]}